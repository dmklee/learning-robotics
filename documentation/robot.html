

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Using Robot Arm &mdash; NURO Arm 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Using Camera" href="camera.html" />
    <link rel="prev" title="Getting Started" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> NURO Arm
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using Robot Arm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#connecting-to-robot">Connecting to Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#joint-angle-control">Joint Angle Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#end-effector-control">End Effector Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-gripper">Using Gripper</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collision-detection">Collision Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-motions">Advanced Motions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#care-and-maintenance">Care and Maintenance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Using Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Example Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Project Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributions.html">Contributions</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NURO Arm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Using Robot Arm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/robot.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-robot-arm">
<h1>Using Robot Arm<a class="headerlink" href="#using-robot-arm" title="Permalink to this headline">¶</a></h1>
<div class="section" id="connecting-to-robot">
<h2>Connecting to Robot<a class="headerlink" href="#connecting-to-robot" title="Permalink to this headline">¶</a></h2>
<p>Before connecting to the robot, turn it ON using the switch on the control board.
If it makes a beeping noise, then you need to plug in the power cable.  Do <strong>not</strong> run
the commands on this page unless you have already <a class="reference internal" href="getting_started.html#calibration"><span class="std std-ref">calibrated the robot</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nuro_arm</span> <span class="kn">import</span> <span class="n">RobotArm</span>

<span class="c1"># connect to robot</span>
<span class="n">controller_type</span> <span class="o">=</span> <span class="s1">&#39;real&#39;</span> <span class="c1"># or &#39;sim&#39;</span>
<span class="n">robot</span> <span class="o">=</span> <span class="n">RobotArm</span><span class="p">(</span><span class="n">controller_type</span><span class="p">)</span>

<span class="c1"># turn off motors, useful for guiding robot by hand</span>
<span class="n">robot</span><span class="o">.</span><span class="n">passive_mode</span><span class="p">()</span>

<span class="c1"># turn on motors</span>
<span class="n">robot</span><span class="o">.</span><span class="n">active_mode</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="joint-angle-control">
<h2>Joint Angle Control<a class="headerlink" href="#joint-angle-control" title="Permalink to this headline">¶</a></h2>
<p>The simplest way to control the robot is to set the angle for each of the five joints in the arm. The names and directions of each joint are shown in the image below.  For instance, by increasing the angle of the elbow joint, then the robot’s gripper is moved closer to the ground.  If all joint angles are set to 0, then the robot is in the HOME position (this is what you set during calibration).  The robot expects joint angles in radians.</p>
<p>If you want to gain more intuition about the joints of the robot, try running the script: <cite>python nuro_arm/examples/move_arm_with_gui.py</cite>, which allows you to move each joint with a slider.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/jointangle_control.png"><img alt="diagram of robot joints" src="_images/jointangle_control.png" style="width: 400px;" /></a>
</div>
<p>Here is a brief example of how to set and read the joint angles of the robot using <cite>RobotArm.move_arm_jpos</cite> and <cite>RobotArm.get_arm_jpos</cite>.  The API refers to joint angles as joint positions (or jpos).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># joint angles in radians, from base to wrist_rotation</span>
<span class="n">jpos</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># sends command, returns once motion stops</span>
<span class="n">robot</span><span class="o">.</span><span class="n">move_arm_jpos</span><span class="p">(</span><span class="n">jpos</span><span class="p">)</span>

<span class="c1"># see achieved joint angles</span>
<span class="n">achieved_jpos</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">get_arm_jpos</span><span class="p">()</span>
</pre></div>
</div>
<p>If you plan to read joint angles while you move the robot arm by hand (for instance, to <em>teach</em> the  robot a movement), then make sure to enter passive mode first.</p>
</div>
<div class="section" id="end-effector-control">
<h2>End Effector Control<a class="headerlink" href="#end-effector-control" title="Permalink to this headline">¶</a></h2>
<p>For certain tasks, like picking up an object, it is useful to command the robot
to move its gripper to a specific location in the world.  This is called <strong>end
effector</strong> control.  The figure below illustrates the end effector of the robot
and how the position is defined.  For this robot, the end effector is located
at the point where the gripper fingers close (thus if an object is located at
<cite>X</cite>, then moving end effector to <cite>X</cite> allows grasping the object).  The position
of the end effector is defined in meters, relative to the <strong>world</strong> (e.g. the
ground underneath the center of the robot).  For reference, the end effector
position pictured here is about &lt;x=0.15, y=0., z=0.08&gt;.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/endeffector_control.png"><img alt="diagram of robot end effector" src="_images/endeffector_control.png" style="width: 400px;" /></a>
</div>
<p>Once the robot receives the desired end effector position, it performs a calculation, called <a class="reference external" href="https://en.wikipedia.org/wiki/Inverse_kinematics">Inverse Kinematics</a>, to determine the joint angles that each motor should be set to.  Below, we have a simple example showing how to move the end effector to a position and read the current end effector position.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># end effector position, units in meters</span>
<span class="n">ee_pos</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>

<span class="c1"># sends command, returns once motion stops</span>
<span class="n">robot</span><span class="o">.</span><span class="n">move_hand_to</span><span class="p">(</span><span class="n">ee_pos</span><span class="p">)</span>

<span class="c1"># see achieved end effector position</span>
<span class="n">achieved_ee_pos</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">get_hand_pose</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="using-gripper">
<h2>Using Gripper<a class="headerlink" href="#using-gripper" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># opens gripper, returns once motion stops</span>
<span class="n">robot</span><span class="o">.</span><span class="n">open_gripper</span><span class="p">()</span>

<span class="c1"># closes_gripper, returns once motion stops</span>
<span class="n">robot</span><span class="o">.</span><span class="n">open_gripper</span><span class="p">()</span>

<span class="c1"># for more fine-grained gripper control, use float ranging from</span>
<span class="c1"># 0 (fully closed) to 1 (fully opened)</span>
<span class="n">robot</span><span class="o">.</span><span class="n">set_gripper_state</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># get current gripper state (ranging from 0 to 1)</span>
<span class="n">gripper_state</span> <span class="o">=</span> <span class="n">robot</span><span class="o">.</span><span class="n">get_gripper_state</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="collision-detection">
<h2>Collision Detection<a class="headerlink" href="#collision-detection" title="Permalink to this headline">¶</a></h2>
<p>Coming soon…</p>
</div>
<div class="section" id="advanced-motions">
<h2>Advanced Motions<a class="headerlink" href="#advanced-motions" title="Permalink to this headline">¶</a></h2>
<p>Coming soon…</p>
</div>
<div class="section" id="care-and-maintenance">
<h2>Care and Maintenance<a class="headerlink" href="#care-and-maintenance" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Always turn off the robot when not in use.</p></li>
<li><p>Do not run the robot for extended periods of time; if you want to stay connected while you debug, then place the robot in passive mode to prevent the motors from overheating.</p></li>
<li><p>Check that there is no pinching or straining of the wires between motors.  This is especially important if you are performing fast motions.</p></li>
<li><p>Do not move the motors by force.  If there is resistance to movement, the motors may be ON.  Either turn off the robot or place it in passive mode.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="camera.html" class="btn btn-neutral float-right" title="Using Camera" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, David Klee.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>